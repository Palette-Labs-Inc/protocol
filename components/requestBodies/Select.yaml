description: a <code>Buyer<code>'s item selections
content:
  application/json:
    schema:
      type: object
      properties:
        action:
            enum:
                - SELECT
        callback_reference: 
          description: the reference identifiers used during a buyer <> provider transaction lifecycle to connect the requests over multiple network requests and callback cycles.
          type: object
          properties:
            transaction_id:
                description: a unique id representing the session of a Buyer. Used across all communications throughout a Buyer's transaction lifecycle
                type: string
            message_id:
                description: generated by the <code>BSN</code> - a unique id representing a specific request/callback cycle
                type: string
          required:
            - transaction_id
            - message_id
        bsn_parameters:
          type: object
          properties:
            uid: 
                $ref: '../schemas/entities/Node.yaml#/properties/uid'
            name: 
                $ref: '../schemas/entities/Node.yaml#/properties/name'
            callback_url: 
                $ref: '../schemas/entities/Node.yaml#/properties/callback_url'
          required:
            - uid
            - name
            - callback_url
        message:
          type: object
          properties:
            provider_id:
              description: the unique identifier of the <code>Provider</code> that the <code>Buyer</code> is selecting items from
              $ref: '../schemas/entities/Provider.yaml#/properties/id'
            fulfillment_intent:
              description: Represents the action of a <code>Buyer</code> to update fulfillment specifications such as time, mode, and location.
              type: object
              properties:
                  buyer_details:
                      description: The details about the buyer
                      $ref: '../schemas/entities/Buyer.yaml'
                  fulfillment_mode:
                      description: should be one of the available fulfillment modes
                      $ref: '../schemas/primitives/FulfillmentMode.yaml'
                  order_notes:
                      description: A note that's associated with the cart. For example, a note for a merchant from a buyer about a specific request with their order.
                      type: string
                  fulfillment_time: 
                      type: integer
                      format: date-time
              required:
                  - buyer_details
                  - fulfillment_mode
            catalog_items:
              type: array
              items:
                type: object
                properties:
                  id:
                    description: the <code>CatalogItemId</code> from the <code>CatalogItem</code> selection
                    $ref: '../schemas/CatalogItem.yaml#/properties/id'
                  quantity:
                    type: integer
                    description: The quantity of the selection
                    format: int32
                  special_instructions: 
                    description: special instructions for the selected item 
                    type: string
                  catalog_item_modifiers: 
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          $ref: '../schemas/CatalogItemModifier.yaml#/properties/id'
                        quantity: 
                          type: integer
                          description: The quantity of the selections for the modifier
                          format: int32
                      required:
                        - id
                        - quantity
                required: 
                  - id
                  - quantity
            required:
                - provider_id
                - selected_fulfillment_mode
                - catalog_items
                - buyer_location
      required:
        - action
        - message
        - callback_reference
        - bsn_parameters
